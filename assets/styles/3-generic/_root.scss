// recursively output custom properties stored in the registry
@mixin variables($map: config()) {
  @each $key, $value in $map {

    // loop through all tuples in the current map
    @if type-of($value) == 'map' {
      @include variables($value)
    }

    // if the key starts with two dashes
    // it is most likely a custom property
    @if str-index($key, '--') == 1 {
      #{$key}: $value;
    }
  }
}

:root {
  @include variables
}
